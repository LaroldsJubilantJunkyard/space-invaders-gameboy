                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.1.6 #12539 (MINGW32)
                                      4 ;--------------------------------------------------------
                                      5 	.module MenuScreen
                                      6 	.optsdcc -mgbz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _UpdateMenuScreen
                                     12 	.globl _SetupMenuScreen
                                     13 	.globl _DrawText
                                     14 	.globl _set_sprite_data
                                     15 	.globl _set_bkg_tile_xy
                                     16 	.globl _set_bkg_data
                                     17 ;--------------------------------------------------------
                                     18 ; special function registers
                                     19 ;--------------------------------------------------------
                                     20 ;--------------------------------------------------------
                                     21 ; ram data
                                     22 ;--------------------------------------------------------
                                     23 	.area _DATA
                                     24 ;--------------------------------------------------------
                                     25 ; ram data
                                     26 ;--------------------------------------------------------
                                     27 	.area _INITIALIZED
                                     28 ;--------------------------------------------------------
                                     29 ; absolute external ram data
                                     30 ;--------------------------------------------------------
                                     31 	.area _DABS (ABS)
                                     32 ;--------------------------------------------------------
                                     33 ; global & static initialisations
                                     34 ;--------------------------------------------------------
                                     35 	.area _HOME
                                     36 	.area _GSINIT
                                     37 	.area _GSFINAL
                                     38 	.area _GSINIT
                                     39 ;--------------------------------------------------------
                                     40 ; Home
                                     41 ;--------------------------------------------------------
                                     42 	.area _HOME
                                     43 	.area _HOME
                                     44 ;--------------------------------------------------------
                                     45 ; code
                                     46 ;--------------------------------------------------------
                                     47 	.area _CODE
                                     48 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:16: void SetupMenuScreen(){
                                     49 ;	---------------------------------
                                     50 ; Function SetupMenuScreen
                                     51 ; ---------------------------------
      000000                         52 _SetupMenuScreen::
                                     53 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:19: spaceInvadersFontCurrentStart=SPACEINVADERSFONT_TILES_START;
      000000 21r00r00                54 	ld	hl, #_spaceInvadersFontCurrentStart
      000003 36 35                   55 	ld	(hl), #0x35
                                     56 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:20: set_sprite_data(PLAYER_SPRITE_START,Player_TILE_COUNT,Player_tiles);
      000005 01r00r00                57 	ld	bc, #_Player_tiles+0
      000008 C5                      58 	push	bc
      000009 21 01 02                59 	ld	hl, #0x201
      00000C E5                      60 	push	hl
      00000D CDr00r00                61 	call	_set_sprite_data
      000010 E8 04                   62 	add	sp, #4
                                     63 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:21: set_sprite_data(BULLETA_SPRITE_START,BulletA_TILE_COUNT,BulletA_tiles);
      000012 11r00r00                64 	ld	de, #_BulletA_tiles
      000015 D5                      65 	push	de
      000016 21 03 08                66 	ld	hl, #0x803
      000019 E5                      67 	push	hl
      00001A CDr00r00                68 	call	_set_sprite_data
      00001D E8 04                   69 	add	sp, #4
                                     70 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:22: set_sprite_data(BULLETB_SPRITE_START,BulletB_TILE_COUNT,BulletB_tiles);
      00001F 11r00r00                71 	ld	de, #_BulletB_tiles
      000022 D5                      72 	push	de
      000023 21 0B 04                73 	ld	hl, #0x40b
      000026 E5                      74 	push	hl
      000027 CDr00r00                75 	call	_set_sprite_data
      00002A E8 04                   76 	add	sp, #4
                                     77 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:23: set_sprite_data(BULLETC_SPRITE_START,BulletC_TILE_COUNT,BulletC_tiles);
      00002C 11r00r00                78 	ld	de, #_BulletC_tiles
      00002F D5                      79 	push	de
      000030 21 0F 01                80 	ld	hl, #0x10f
      000033 E5                      81 	push	hl
      000034 CDr00r00                82 	call	_set_sprite_data
      000037 E8 04                   83 	add	sp, #4
                                     84 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:24: set_sprite_data(ALIEN_SPRITE_START,Alien_TILE_COUNT,Alien_tiles);
      000039 11r00r00                85 	ld	de, #_Alien_tiles
      00003C D5                      86 	push	de
      00003D 21 10 02                87 	ld	hl, #0x210
      000040 E5                      88 	push	hl
      000041 CDr00r00                89 	call	_set_sprite_data
      000044 E8 04                   90 	add	sp, #4
                                     91 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:25: set_sprite_data(EXPLOSION_SPRITE_START,Explosion_TILE_COUNT,Explosion_tiles);
      000046 11r00r00                92 	ld	de, #_Explosion_tiles
      000049 D5                      93 	push	de
      00004A 21 12 04                94 	ld	hl, #0x412
      00004D E5                      95 	push	hl
      00004E CDr00r00                96 	call	_set_sprite_data
      000051 E8 04                   97 	add	sp, #4
                                     98 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:27: set_bkg_data(PLAYER_SPRITE_START,Player_TILE_COUNT,Player_tiles);
      000053 C5                      99 	push	bc
      000054 21 01 02               100 	ld	hl, #0x201
      000057 E5                     101 	push	hl
      000058 CDr00r00               102 	call	_set_bkg_data
      00005B E8 04                  103 	add	sp, #4
                                    104 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:28: set_bkg_data(ALIEN_TILES_START,Alien_TILE_COUNT,Alien_tiles);
      00005D 11r00r00               105 	ld	de, #_Alien_tiles
      000060 D5                     106 	push	de
      000061 21 03 02               107 	ld	hl, #0x203
      000064 E5                     108 	push	hl
      000065 CDr00r00               109 	call	_set_bkg_data
      000068 E8 04                  110 	add	sp, #4
                                    111 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:29: set_bkg_data(INVADER1_TILES_START,Invader1_TILE_COUNT,Invader1_tiles);
      00006A 11r00r00               112 	ld	de, #_Invader1_tiles
      00006D D5                     113 	push	de
      00006E 21 05 10               114 	ld	hl, #0x1005
      000071 E5                     115 	push	hl
      000072 CDr00r00               116 	call	_set_bkg_data
      000075 E8 04                  117 	add	sp, #4
                                    118 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:30: set_bkg_data(INVADER2_TILES_START,Invader2_TILE_COUNT,Invader2_tiles);
      000077 11r00r00               119 	ld	de, #_Invader2_tiles
      00007A D5                     120 	push	de
      00007B 21 15 10               121 	ld	hl, #0x1015
      00007E E5                     122 	push	hl
      00007F CDr00r00               123 	call	_set_bkg_data
      000082 E8 04                  124 	add	sp, #4
                                    125 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:31: set_bkg_data(INVADER3_TILES_START,Invader3_TILE_COUNT,Invader3_tiles);
      000084 11r00r00               126 	ld	de, #_Invader3_tiles
      000087 D5                     127 	push	de
      000088 21 25 10               128 	ld	hl, #0x1025
      00008B E5                     129 	push	hl
      00008C CDr00r00               130 	call	_set_bkg_data
      00008F E8 04                  131 	add	sp, #4
                                    132 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:32: set_bkg_data(SPACEINVADERSFONT_TILES_START,SpaceInvadersFont_TILE_COUNT,SpaceInvadersFont_tiles);
      000091 11r00r00               133 	ld	de, #_SpaceInvadersFont_tiles
      000094 D5                     134 	push	de
      000095 21 35 2B               135 	ld	hl, #0x2b35
      000098 E5                     136 	push	hl
      000099 CDr00r00               137 	call	_set_bkg_data
      00009C E8 04                  138 	add	sp, #4
                                    139 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:33: set_bkg_data(BARRICADE_TILES_START,Barricade_TILE_COUNT,Barricade_tiles);
      00009E 11r00r00               140 	ld	de, #_Barricade_tiles
      0000A1 D5                     141 	push	de
      0000A2 21 60 0F               142 	ld	hl, #0xf60
      0000A5 E5                     143 	push	hl
      0000A6 CDr00r00               144 	call	_set_bkg_data
      0000A9 E8 04                  145 	add	sp, #4
                                    146 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:35: DrawText(8,2,"PLAY");
      0000AB 11r48r01               147 	ld	de, #___str_0
      0000AE D5                     148 	push	de
      0000AF 21 08 02               149 	ld	hl, #0x208
      0000B2 E5                     150 	push	hl
      0000B3 CDr00r00               151 	call	_DrawText
      0000B6 E8 04                  152 	add	sp, #4
                                    153 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:36: DrawText(3,4,"SPACE  INVADERS");
      0000B8 11r4Dr01               154 	ld	de, #___str_1
      0000BB D5                     155 	push	de
      0000BC 21 03 04               156 	ld	hl, #0x403
      0000BF E5                     157 	push	hl
      0000C0 CDr00r00               158 	call	_DrawText
      0000C3 E8 04                  159 	add	sp, #4
                                    160 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:37: DrawText(0,7,"*SCORE ADVANCE TABLE");
      0000C5 11r5Dr01               161 	ld	de, #___str_2
      0000C8 D5                     162 	push	de
      0000C9 21 00 07               163 	ld	hl, #0x700
      0000CC E5                     164 	push	hl
      0000CD CDr00r00               165 	call	_DrawText
      0000D0 E8 04                  166 	add	sp, #4
                                    167 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:39: DrawText(6,9,"=? MYSTERY");
      0000D2 11r72r01               168 	ld	de, #___str_3
      0000D5 D5                     169 	push	de
      0000D6 21 06 09               170 	ld	hl, #0x906
      0000D9 E5                     171 	push	hl
      0000DA CDr00r00               172 	call	_DrawText
      0000DD E8 04                  173 	add	sp, #4
                                    174 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:40: DrawText(6,11,"=30 POINTS");
      0000DF 11r7Dr01               175 	ld	de, #___str_4
      0000E2 D5                     176 	push	de
      0000E3 21 06 0B               177 	ld	hl, #0xb06
      0000E6 E5                     178 	push	hl
      0000E7 CDr00r00               179 	call	_DrawText
      0000EA E8 04                  180 	add	sp, #4
                                    181 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:41: DrawText(6,13,"=20 POINS");
      0000EC 11r88r01               182 	ld	de, #___str_5
      0000EF D5                     183 	push	de
      0000F0 21 06 0D               184 	ld	hl, #0xd06
      0000F3 E5                     185 	push	hl
      0000F4 CDr00r00               186 	call	_DrawText
      0000F7 E8 04                  187 	add	sp, #4
                                    188 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:42: DrawText(6,15,"=10 POINTS");
      0000F9 11r92r01               189 	ld	de, #___str_6
      0000FC D5                     190 	push	de
      0000FD 21 06 0F               191 	ld	hl, #0xf06
      000100 E5                     192 	push	hl
      000101 CDr00r00               193 	call	_DrawText
      000104 E8 04                  194 	add	sp, #4
                                    195 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:44: set_bkg_tile_xy(4,9,ALIEN_TILES_START);
      000106 21 09 03               196 	ld	hl, #0x309
      000109 E5                     197 	push	hl
      00010A 3E 04                  198 	ld	a, #0x04
      00010C F5                     199 	push	af
      00010D 33                     200 	inc	sp
      00010E CDr00r00               201 	call	_set_bkg_tile_xy
      000111 E8 03                  202 	add	sp, #3
                                    203 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:45: set_bkg_tile_xy(5,9,ALIEN_TILES_START+1);
      000113 21 09 04               204 	ld	hl, #0x409
      000116 E5                     205 	push	hl
      000117 3E 05                  206 	ld	a, #0x05
      000119 F5                     207 	push	af
      00011A 33                     208 	inc	sp
      00011B CDr00r00               209 	call	_set_bkg_tile_xy
      00011E E8 03                  210 	add	sp, #3
                                    211 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:47: set_bkg_tile_xy(5,11,INVADER1_TILES_START);
      000120 21 0B 05               212 	ld	hl, #0x50b
      000123 E5                     213 	push	hl
      000124 3E 05                  214 	ld	a, #0x05
      000126 F5                     215 	push	af
      000127 33                     216 	inc	sp
      000128 CDr00r00               217 	call	_set_bkg_tile_xy
      00012B E8 03                  218 	add	sp, #3
                                    219 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:48: set_bkg_tile_xy(5,13,INVADER2_TILES_START);
      00012D 21 0D 15               220 	ld	hl, #0x150d
      000130 E5                     221 	push	hl
      000131 3E 05                  222 	ld	a, #0x05
      000133 F5                     223 	push	af
      000134 33                     224 	inc	sp
      000135 CDr00r00               225 	call	_set_bkg_tile_xy
      000138 E8 03                  226 	add	sp, #3
                                    227 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:49: set_bkg_tile_xy(5,15,INVADER3_TILES_START);
      00013A 21 0F 25               228 	ld	hl, #0x250f
      00013D E5                     229 	push	hl
      00013E 3E 05                  230 	ld	a, #0x05
      000140 F5                     231 	push	af
      000141 33                     232 	inc	sp
      000142 CDr00r00               233 	call	_set_bkg_tile_xy
      000145 E8 03                  234 	add	sp, #3
                                    235 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:52: }
      000147 C9                     236 	ret
      000148                        237 ___str_0:
      000148 50 4C 41 59            238 	.ascii "PLAY"
      00014C 00                     239 	.db 0x00
      00014D                        240 ___str_1:
      00014D 53 50 41 43 45 20 20   241 	.ascii "SPACE  INVADERS"
             49 4E 56 41 44 45 52
             53
      00015C 00                     242 	.db 0x00
      00015D                        243 ___str_2:
      00015D 2A 53 43 4F 52 45 20   244 	.ascii "*SCORE ADVANCE TABLE"
             41 44 56 41 4E 43 45
             20 54 41 42 4C 45
      000171 00                     245 	.db 0x00
      000172                        246 ___str_3:
      000172 3D 3F 20 4D 59 53 54   247 	.ascii "=? MYSTERY"
             45 52 59
      00017C 00                     248 	.db 0x00
      00017D                        249 ___str_4:
      00017D 3D 33 30 20 50 4F 49   250 	.ascii "=30 POINTS"
             4E 54 53
      000187 00                     251 	.db 0x00
      000188                        252 ___str_5:
      000188 3D 32 30 20 50 4F 49   253 	.ascii "=20 POINS"
             4E 53
      000191 00                     254 	.db 0x00
      000192                        255 ___str_6:
      000192 3D 31 30 20 50 4F 49   256 	.ascii "=10 POINTS"
             4E 54 53
      00019C 00                     257 	.db 0x00
                                    258 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:53: uint8_t UpdateMenuScreen(){
                                    259 ;	---------------------------------
                                    260 ; Function UpdateMenuScreen
                                    261 ; ---------------------------------
      00019D                        262 _UpdateMenuScreen::
                                    263 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:55: if((joypadCurrent & J_A) && !(joypadPrevious & J_A)){
      00019D FAr00r00               264 	ld	a, (#_joypadCurrent)
      0001A0 CB 67                  265 	bit	4, a
      0001A2 28 0F                  266 	jr	Z, 00102$
      0001A4 FAr00r00               267 	ld	a, (#_joypadPrevious)
      0001A7 CB 67                  268 	bit	4, a
      0001A9 20 08                  269 	jr	NZ, 00102$
                                    270 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:57: level=1;
      0001AB 21r00r00               271 	ld	hl, #_level
      0001AE 36 01                  272 	ld	(hl), #0x01
                                    273 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:59: return NEXTLEVELSCREEN;
      0001B0 1E 04                  274 	ld	e, #0x04
      0001B2 C9                     275 	ret
      0001B3                        276 00102$:
                                    277 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:62: return MENUSCREEN;
      0001B3 1E 02                  278 	ld	e, #0x02
                                    279 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\MenuScreen.c:64: }
      0001B5 C9                     280 	ret
                                    281 	.area _CODE
                                    282 	.area _INITIALIZER
                                    283 	.area _CABS (ABS)
