                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.1.6 #12539 (MINGW32)
                                      4 ;--------------------------------------------------------
                                      5 	.module player
                                      6 	.optsdcc -mgbz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _joypad
                                     12 	.globl _paddle
                                     13 	.globl _SetupPlayer
                                     14 	.globl _UpdatePlayer
                                     15 ;--------------------------------------------------------
                                     16 ; special function registers
                                     17 ;--------------------------------------------------------
                                     18 ;--------------------------------------------------------
                                     19 ; ram data
                                     20 ;--------------------------------------------------------
                                     21 	.area _DATA
      000000                         22 _paddle::
      000000                         23 	.ds 4
                                     24 ;--------------------------------------------------------
                                     25 ; ram data
                                     26 ;--------------------------------------------------------
                                     27 	.area _INITIALIZED
                                     28 ;--------------------------------------------------------
                                     29 ; absolute external ram data
                                     30 ;--------------------------------------------------------
                                     31 	.area _DABS (ABS)
                                     32 ;--------------------------------------------------------
                                     33 ; global & static initialisations
                                     34 ;--------------------------------------------------------
                                     35 	.area _HOME
                                     36 	.area _GSINIT
                                     37 	.area _GSFINAL
                                     38 	.area _GSINIT
                                     39 ;--------------------------------------------------------
                                     40 ; Home
                                     41 ;--------------------------------------------------------
                                     42 	.area _HOME
                                     43 	.area _HOME
                                     44 ;--------------------------------------------------------
                                     45 ; code
                                     46 ;--------------------------------------------------------
                                     47 	.area _CODE
                                     48 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\Gameplay\player.c:8: void SetupPlayer(){
                                     49 ;	---------------------------------
                                     50 ; Function SetupPlayer
                                     51 ; ---------------------------------
      000000                         52 _SetupPlayer::
                                     53 ;C:/gbdk/include/gb/gb.h:1326: shadow_OAM[nb].tile=tile;
      000000 21r02r00                54 	ld	hl, #(_shadow_OAM + 2)
      000003 36 01                   55 	ld	(hl), #0x01
      000005 21r06r00                56 	ld	hl, #(_shadow_OAM + 6)
      000008 36 02                   57 	ld	(hl), #0x02
                                     58 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\Gameplay\player.c:13: paddle.x=80;
      00000A 21r00r00                59 	ld	hl, #_paddle
      00000D 36 50                   60 	ld	(hl), #0x50
                                     61 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\Gameplay\player.c:14: paddle.y=128;
      00000F 21r01r00                62 	ld	hl, #(_paddle + 1)
      000012 36 80                   63 	ld	(hl), #0x80
                                     64 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\Gameplay\player.c:15: paddle.dead=0;
      000014 21r02r00                65 	ld	hl, #(_paddle + 2)
      000017 36 00                   66 	ld	(hl), #0x00
                                     67 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\Gameplay\player.c:16: paddle.lives=3;
      000019 21r03r00                68 	ld	hl, #(_paddle + 3)
      00001C 36 03                   69 	ld	(hl), #0x03
                                     70 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\Gameplay\player.c:17: }
      00001E C9                      71 	ret
                                     72 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\Gameplay\player.c:19: void UpdatePlayer(){
                                     73 ;	---------------------------------
                                     74 ; Function UpdatePlayer
                                     75 ; ---------------------------------
      00001F                         76 _UpdatePlayer::
                                     77 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\Gameplay\player.c:21: if(joypad() & J_LEFT)paddle.x-=2;
      00001F CDr00r00                78 	call	_joypad
      000022 CB 4B                   79 	bit	1, e
      000024 28 09                   80 	jr	Z, 00104$
      000026 01r00r00                81 	ld	bc, #_paddle+0
      000029 0A                      82 	ld	a, (bc)
      00002A 3D                      83 	dec	a
      00002B 3D                      84 	dec	a
      00002C 02                      85 	ld	(bc), a
      00002D 18 0E                   86 	jr	00105$
      00002F                         87 00104$:
                                     88 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\Gameplay\player.c:22: else if(joypad() & J_RIGHT)paddle.x+=2;
      00002F CDr00r00                89 	call	_joypad
      000032 7B                      90 	ld	a, e
      000033 0F                      91 	rrca
      000034 30 07                   92 	jr	NC, 00105$
      000036 01r00r00                93 	ld	bc, #_paddle+0
      000039 0A                      94 	ld	a, (bc)
      00003A C6 02                   95 	add	a, #0x02
      00003C 02                      96 	ld	(bc), a
      00003D                         97 00105$:
                                     98 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\Gameplay\player.c:25: if(paddle.x<8)paddle.x=8;
      00003D 01r00r00                99 	ld	bc, #_paddle+0
      000040 0A                     100 	ld	a, (bc)
      000041 D6 08                  101 	sub	a, #0x08
      000043 30 03                  102 	jr	NC, 00107$
      000045 3E 08                  103 	ld	a, #0x08
      000047 02                     104 	ld	(bc), a
      000048                        105 00107$:
                                    106 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\Gameplay\player.c:26: if(paddle.x>152)paddle.x=152;
      000048 0A                     107 	ld	a, (bc)
      000049 5F                     108 	ld	e, a
      00004A 3E 98                  109 	ld	a,#0x98
      00004C BB                     110 	cp	a,e
      00004D 30 01                  111 	jr	NC, 00109$
      00004F 02                     112 	ld	(bc), a
      000050                        113 00109$:
                                    114 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\Gameplay\player.c:29: if((joypadCurrent & J_A) && !(joypadPrevious & J_A)){
      000050 FAr00r00               115 	ld	a, (#_joypadCurrent)
      000053 CB 67                  116 	bit	4, a
      000055 28 22                  117 	jr	Z, 00113$
      000057 FAr00r00               118 	ld	a, (#_joypadPrevious)
      00005A CB 67                  119 	bit	4, a
      00005C 20 1B                  120 	jr	NZ, 00113$
                                    121 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\Gameplay\player.c:31: if(shadow_OAM[2].tile==0){
      00005E FAr0Ar00               122 	ld	a, (#(_shadow_OAM + 10) + 0)
      000061 B7                     123 	or	a, a
      000062 20 15                  124 	jr	NZ, 00113$
                                    125 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\Gameplay\player.c:32: shadow_OAM[2].x=paddle.x+4;
      000064 11r09r00               126 	ld	de, #_shadow_OAM+9
      000067 0A                     127 	ld	a, (bc)
      000068 C6 04                  128 	add	a, #0x04
      00006A 12                     129 	ld	(de), a
                                    130 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\Gameplay\player.c:33: shadow_OAM[2].y=paddle.y+12;
      00006B 01r08r00               131 	ld	bc, #_shadow_OAM+8
      00006E FAr01r00               132 	ld	a, (#(_paddle + 1) + 0)
      000071 C6 0C                  133 	add	a, #0x0c
      000073 02                     134 	ld	(bc), a
                                    135 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\Gameplay\player.c:34: shadow_OAM[2].tile=42;
      000074 21r0Ar00               136 	ld	hl, #(_shadow_OAM + 10)
      000077 36 2A                  137 	ld	(hl), #0x2a
      000079                        138 00113$:
                                    139 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\Gameplay\player.c:39: move_sprite(0,paddle.x,paddle.y+12);
      000079 01r00r00               140 	ld	bc, #_paddle+0
      00007C FAr01r00               141 	ld	a, (#(_paddle + 1) + 0)
      00007F C6 0C                  142 	add	a, #0x0c
      000081 57                     143 	ld	d, a
      000082 0A                     144 	ld	a, (bc)
      000083 5F                     145 	ld	e, a
                                    146 ;C:/gbdk/include/gb/gb.h:1399: OAM_item_t * itm = &shadow_OAM[nb];
      000084 21r00r00               147 	ld	hl, #_shadow_OAM
                                    148 ;C:/gbdk/include/gb/gb.h:1400: itm->y=y, itm->x=x;
      000087 7A                     149 	ld	a, d
      000088 22                     150 	ld	(hl+), a
      000089 73                     151 	ld	(hl), e
                                    152 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\Gameplay\player.c:40: move_sprite(1,paddle.x+8,paddle.y+12);
      00008A FAr01r00               153 	ld	a, (#(_paddle + 1) + 0)
      00008D C6 0C                  154 	add	a, #0x0c
      00008F 5F                     155 	ld	e, a
      000090 0A                     156 	ld	a, (bc)
      000091 C6 08                  157 	add	a, #0x08
      000093 4F                     158 	ld	c, a
                                    159 ;C:/gbdk/include/gb/gb.h:1399: OAM_item_t * itm = &shadow_OAM[nb];
      000094 21r04r00               160 	ld	hl, #(_shadow_OAM + 4)
                                    161 ;C:/gbdk/include/gb/gb.h:1400: itm->y=y, itm->x=x;
      000097 7B                     162 	ld	a, e
      000098 22                     163 	ld	(hl+), a
      000099 71                     164 	ld	(hl), c
                                    165 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\Gameplay\player.c:40: move_sprite(1,paddle.x+8,paddle.y+12);
                                    166 ;D:\Business\LaroldsJubilantJunkyard\game-remakes\space-invaders\source\main\default\States\Gameplay\player.c:41: }
      00009A C9                     167 	ret
                                    168 	.area _CODE
                                    169 	.area _INITIALIZER
                                    170 	.area _CABS (ABS)
